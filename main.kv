<LoginScreen>:
    orientation: 'vertical'
    padding: 20
    spacing: 15

    Label:
        text: 'Correo:'
        font_size: 18
        color: [0, 0, 0, 1]
    TextInput:
        id: txt_usuario
        multiline: False
        font_size: 18
        size_hint_y: None
        height: 40
        background_color: [0.9, 0.9, 0.9, 1]
        foreground_color: [0, 0, 0, 1]

    Label:
        text: 'Contraseña:'
        font_size: 18
        color: [0, 0, 0, 1]
    TextInput:
        id: txt_contrasena
        multiline: False
        password: True
        font_size: 18
        size_hint_y: None
        height: 40
        background_color: [0.9, 0.9, 0.9, 1]
        foreground_color: [0, 0, 0, 1]

    Button:
        text: 'Login'
        font_size: 20
        size_hint_y: None
        height: 50
        background_color: [0.1, 0.6, 0.9, 1]
        on_press: root.verificar_credenciales()

    Button:
        text: 'Registrar nuevo usuario'
        font_size: 20
        size_hint_y: None
        height: 50
        on_press: root.go_to_register()

    Label:
        id: lbl_estado
        text: ''
        font_size: 16
        color: [0, 0, 0, 1]

<RegisterScreen>:
    orientation: 'vertical'
    padding: 20
    spacing: 15

    Label:
        text: 'Registro de nuevo usuario'
        font_size: 18
        color: [0, 0, 0, 1]

    Label:
        text: 'Correo:'
        font_size: 18
        color: [0, 0, 0, 1]
    TextInput:
        id: txt_usuario
        multiline: False
        font_size: 18
        size_hint_y: None
        height: 40
        background_color: [0.9, 0.9, 0.9, 1]
        foreground_color: [0, 0, 0, 1]

    Label:
        text: 'Contraseña:'
        font_size: 18
        color: [0, 0, 0, 1]
    TextInput:
        id: txt_contrasena
        multiline: False
        password: True
        font_size: 18
        size_hint_y: None
        height: 40
        background_color: [0.9, 0.9, 0.9, 1]
        foreground_color: [0, 0, 0, 1]

    Label:
        text: 'Rol:'
        font_size: 18
        color: [0, 0, 0, 1]
    Spinner:
        id: spinner_rol
        text: 'Seleccionar rol'
        values: ['Aspirante', 'Miembro Dirección Territorial', 'LEC', 'Capacitador']
        size_hint_y: None
        height: 50
        background_color: [0.9, 0.9, 0.9, 1]

    Button:
        text: 'Registrar'
        font_size: 20
        size_hint_y: None
        height: 50
        on_press: root.registrar_usuario()

    Button:
        text: 'Regresar'
        font_size: 20
        size_hint_y: None
        height: 50
        on_press: root.go_back()

    Label:
        id: lbl_estado
        text: ''
        font_size: 16
        color: [0, 0, 0, 1]

<AspiranteScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: 'Aspirante'
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'Aplicar a Convocatoria'
                size_hint_y: None
                height: 50
                on_press: root.aplicar_a_convocatoria()

            Button:
                text: 'Seguimiento Capacitación'
                size_hint_y: None
                height: 50
                on_press: root.interfazAspiranteSeguimiento(self)

            Button:
                text: 'Cerrar Sesión'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.get_screen('login').children[0].limpiar_campos()
                    app.root.current = 'login'

<VistaDireccionTerritorialScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: 'Miembro Dirección Territorial'
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'Convocatorias'
                size_hint_y: None
                height: 50
                on_press: root.interfaz_convocatorias(self)
            
            Button:
                text: 'Capacitaciones'
                size_hint_y: None
                height: 50
                on_press: root.interfaz_capacitaciones(self)
            
            Button:
                text: 'Asignar CCT Prácticas'  # Nuevo botón
                size_hint_y: None
                height: 50
                on_press: root.interfaz_cct_practicas(self)

            Button:
                text: 'Tablero de Control'
                size_hint_y: None
                height: 50
                on_press: root.interfaz_tablero_control(self)

            Button:
                text: 'Cerrar Sesión'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.get_screen('login').children[0].limpiar_campos()
                    app.root.current = 'login'

<ConvocatoriasScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            Label:
                text: 'Pantalla Convocatorias'
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'Regresar'
                font_size: 20
                size_hint_y: None
                height: 50
                on_press: root.regresar(self)

<AsignarCCTPracticasScreen>:
    name: 'asignacion_cct_practicas'
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 0.15, 0.50, 0.50, 1  # Fondo azul-verde
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "Asignación de CCT para prácticas"
            font_size: 24
            bold: True
            color: 1, 1, 1, 1  # Texto blanco
            size_hint_y: None
            height: 50
            canvas.before:
                Color:
                    rgba: 0.0, 0.4, 0.4, 1  # Encabezado más oscuro
                Rectangle:
                    size: self.size
                    pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            ScrollView:
                GridLayout:
                    id: data_layout
                    cols: 2
                    size_hint_y: None
                    height: self.minimum_height
                    row_default_height: 50
                    row_force_default: True
                    canvas.before:
                        Color:
                            rgba: 0.15, 0.50, 0.50, 1  # Fondo de los registros
                        Rectangle:
                            size: self.size
                            pos: self.pos
        Button:
            text: "Regresar"
            size_hint_y: None
            height: 50
            background_color: 0.7, 0, 0, 1  # Botón rojo
            color: 1, 1, 1, 1
            on_release: root.go_back()

<DetalleCCTScreen>:
    name: 'detalle_cct'
    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 0.0, 0.2, 0.6, 1  # Fondo azul
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "Buscar y Asignar CCT"
            font_size: 24
            bold: True
            size_hint_y: None
            height: 60  # Mayor altura para el título
            color: 1, 1, 1, 1
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 150  # Espacio expandido para datos del aspirante
            padding: 10
            Label:
                id: aspirante_info
                text: "Información del aspirante"
                size_hint_y: None
                height: 150
                color: 1, 1, 1, 1
                text_size: self.width, None
                halign: "center"
                valign: "middle"
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            padding: [10, 0, 10, 0]  # Margen horizontal
            spacing: 10
            TextInput:
                id: search_estado
                hint_text: "Estado"
                multiline: False
            TextInput:
                id: search_municipio
                hint_text: "Municipio"
                multiline: False
            Button:
                text: "Buscar"
                on_release: root.search_ccts()
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50  # Ajustar altura de encabezados
            padding: [10, 0, 10, 10]  # Añadimos espacio inferior
            spacing: 10
            Label:
                text: "Número de CCT"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.15
            Label:
                text: "Nombre"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.25
            Label:
                text: "Estado"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.15
            Label:
                text: "Municipio"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.15
            Label:
                text: "Nivel Educativo"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.15
            Label:
                text: "Cupos"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.1
            Label:
                text: "Acción"
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.1
        ScrollView:
            GridLayout:
                id: cct_list
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 5  # Espaciado entre las filas
        Button:
            text: "Regresar"
            size_hint_y: None
            height: 50
            background_color: 0.7, 0, 0, 1  # Botón rojo
            color: 1, 1, 1, 1
            on_release: root.go_back() 

<TableroControlScreen>:
    canvas.before:
        Color:
            rgba: 0.06, 0.52, 0.52, 1  # Color teal oscuro de fondo
        Rectangle:
            pos: self.pos
            size: self.size

    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

            Label:
                text: 'Tablero de Control'
                font_size: 24
                color: [1, 1, 1, 1]  # Texto en blanco
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'FII'
                font_size: 20
                size_hint_y: None
                height: 50
                background_color: [0.1, 0.6, 0.9, 1]  # Color azul del botón
                on_press: root.go_to_fii_screen()

            Button:
                text: 'Regresar'
                font_size: 20
                size_hint_y: None
                height: 50
                background_color: [0.1, 0.6, 0.9, 1]  # Color azul del botón
                on_press: root.regresar_vista_direccion()

<LECScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.7
            pos_hint: {'center_x': 0.5, 'top': 0.9}

            Label:
                text: 'LEC'
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "CCT de Servicio: {}".format(root.cct)
                font_size: 18
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Label:
                text: "Grupo Asignado: {}".format(root.grupo)
                font_size: 18
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            ScrollView:
                size_hint: 1, 0.6
                GridLayout:
                    id: botones_layout
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 10

                    Button:
                        text: "Control Escolar"
                        on_press: root.control_escolar()

<ControlEscolarScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: "Control Escolar - {}".format(root.cct)
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'LEC'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_gestion_lec'
            
            Button:
                text: 'Alumnos'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_gestion_alumnos'
            
            Button:
                text: 'Grupos'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_gestion_grupos_detalle'

            Button:
                text: 'Regresar al Login'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.get_screen('login').children[0].limpiar_campos()
                    app.root.current = 'login'

<vistaGestionLEC>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: "Seleccione opción a realizar en los LEC"
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]
            
            Button:
                text: 'Asignar Grupo'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.get_screen('vista_asignar_grupo_lec').children[0].cct = app.root.get_screen('vista_control_escolar').children[0].cct
                    app.root.get_screen('vista_asignar_grupo_lec').children[0].cargar_profesores()
                    app.root.current = 'vista_asignar_grupo_lec'
                
            Button:
                text: 'Regresar'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_control_escolar'

<vistaAsignarGrupoLEC>:
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 20, 10, 10]
        spacing: 20

        # Botón Regresar
        BoxLayout:
            size_hint_y: None
            height: 50
            spacing: 10

            Button:
                text: "Regresar"
                size_hint_x: 0.2
                on_press: app.root.current = 'vista_gestion_lec'

        Label:
            text: "Asignar Profesor a Grupo - {}".format(root.cct)
            font_size: 24
            size_hint_y: None
            height: 40

        ScrollView:
            size_hint: 1, 0.8
            GridLayout:
                id: grid_profesores
                cols: 1
                size_hint_y: None
                height: self.minimum_height
                spacing: 10

<vistaGestionAlumnos>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: "Seleccione opción a realizar en los Alumnos"
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]
            
            Button:
                text: 'Dar Alta'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_alta_alumnos'
            
            Button:
                text: 'Asignar CCT y Grupo'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_asignar_alumnos'

            Button:
                text: 'Regresar'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.current = 'vista_control_escolar'


<CapacitadorScreen>:
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: 20
            padding: 50
            size_hint: 0.6, 0.3
            pos_hint: {'center_x': 0.5, 'top': 0.7}

            Label:
                text: 'Capacitador'
                font_size: 24
                color: [0, 0, 0, 1]
                halign: 'center'
                valign: 'middle'
                size_hint_y: None
                height: self.texture_size[1]

            Button:
                text: 'Seguir Capacitación'
                size_hint_y: None
                height: 50
                on_press: root.interfaz_CapacitadorAspirante(self)

            Button:
                text: 'Regresar al Login'
                size_hint_y: None
                height: 50
                on_press:
                    app.root.get_screen('login').children[0].limpiar_campos()
                    app.root.current = 'login'